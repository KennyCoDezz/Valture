<head>
    <link rel="stylesheet" href="../../assets/css/book_reading_mode.css">
    <link rel="stylesheet" href="../../assets/css/root.css">
    <link rel="stylesheet" href="../../assets/fontawesome-free-6.0.0-beta2-web/css/all.min.css">
</head>
<body>
    <section class="book_overview">
        <div class="section-wrapper">
            <div class="section-title">
                <h2>book reading mode</h2>
            </div>
        </div>
        <div class="document-container">
            <div class="document-info">
                <div class="document_image_title">
                    <div class="pdf_viewer">
                        <!--
                        *With PDF.js*
                        <div class="canvas_wrapper" id="canvas_container">
                            <canvas id="pdf-render"></canvas>
                        </div>
                        <div class="nav" id="navigation">
                            <button id="prev-page">Previous</button>
                            <span class="page-info">
                                Page <span id="page-num"></span> of <span id="page-count"></span>
                            </span>
                            <button id="next-page">Next</button>
                        </div>-->
                        <object data="../../assets/pdf/Sample.pdf#toolbar=0" type="application/pdf"></object>
                    </div>
                    <div class="document-title">
                        <div class="image-container">
                            <img src="../../assets/images/1.jpg" alt="">
                        </div>
                        <div class="title-author">
                            <h2>document title</h2>
                            <span>author name</span>
                            <div class="stars">
                                <span>(20)</span>
                                <i class="fa-solid fa-star"></i>
                                <i class="fa-solid fa-star"></i>
                                <i class="fa-solid fa-star"></i>
                                <i class="fa-solid fa-star"></i>
                                <i class="fa-solid fa-star"></i>          
                            </div>
                        </div>
                        <p>
                            Lorem ipsum dolor sit amet 
                            consectetur adipisicing elit. 
                            Eligendi dolorem, odit distinctio 
                            corrupti nulla blanditiis adipisci 
                            id possimus molestias hic quo, enim 
                            quasi eius ipsa quam exercitationem 
                            vitae inventore quaerat?
                        </p>
                        <div class="return_time">
                            <span>To be returned on: DD-MM-YY</span>
                        </div>
                        <div class="buttons">
                            <button>Borrow Now</button>
                            <button>Read Now</button>
                            <button>Return</button>
                            <button>Add To
                                <i class="fa-solid fa-bookmark"></i>
                            </button>
                        </div>
                        <div class="document-details">
                            <h3>book details</h3>
                            <span>year released: xxxx</span>
                            <span>page no: xxxx</span>
                            <span>isbn: xxxx</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="document-reviews">
                <div class="comments_reviews_wrapper">
                    <div class="reviews">
                        <h3>reviews</h3>
                        <div class="stars">
                            <i class="fa-solid fa-star"></i>
                            <i class="fa-solid fa-star"></i>
                            <i class="fa-solid fa-star"></i>
                            <i class="fa-solid fa-star"></i>
                            <i class="fa-solid fa-star"></i>   
                            <span>(4.0)</span>       
                        </div>
                        <div class="comments-wrapper">
                            <div class="user">
                                <div class="image">
                                    <img src="../../assets/images/1.jpg" alt="">
                                </div>
                                <div class="user-ratings-comments">
                                    <h4>username</h4>
                                    <div class="stars">
                                        <i class="fa-solid fa-star"></i>
                                        <i class="fa-solid fa-star"></i>
                                        <i class="fa-solid fa-star"></i>
                                        <i class="fa-solid fa-star"></i>
                                        <i class="fa-solid fa-star"></i>   
                                    </div>
                                    <p>Lorem ipsum dolor sit amet 
                                        consectetur adipisicing elit. 
                                        Ipsum dolores eaque ullam 
                                        nulla vero vitae, fugiat, 
                                        accusantium sit id tempore 
                                        sunt sed corrupti impedit 
                                        maiores. Rem nesciunt quidem 
                                        doloremque omnis!
                                    </p>
                                </div>
                            </div>
                            <div class="user">
                                <div class="image">
                                    <img src="../../assets/images/1.jpg" alt="">
                                </div>
                                <div class="user-ratings-comments">
                                    <h4>username</h4>
                                    <div class="stars">
                                        <i class="fa-solid fa-star"></i>
                                        <i class="fa-solid fa-star"></i>
                                        <i class="fa-solid fa-star"></i>
                                        <i class="fa-solid fa-star"></i>
                                        <i class="fa-solid fa-star"></i>   
                                    </div>
                                    <p>Lorem ipsum dolor sit amet 
                                        consectetur adipisicing elit. 
                                        Ipsum dolores eaque ullam 
                                        nulla vero vitae, fugiat, 
                                        accusantium sit id tempore 
                                        sunt sed corrupti impedit 
                                        maiores. Rem nesciunt quidem 
                                        doloremque omnis!
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="leave-comment">
                        <h3>leave a comment</h3>
                        <form action="#" class="comment-box">
                            <div class="profile-box">
                                <div class="image-container">
                                    <img src="../../assets/images/1.jpg" alt="">
                                </div>
                                <input type="text" placeholder="Comment here...">
                            </div>
                            <input type="submit" value="Submit">
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>

    
    <!-- For PDF.js
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.13.216/pdf.min.js"></script>
    <script>
        let url = "../../assets/pdf/Sample.pdf";
        let pdfDoc = null,
            pageNum = 1,
            pageIsRendering = false,
            pageNumIsPending = null;

        const scale = 1.5,
            canvas = document.querySelector('#pdf-render'),
            ctx = canvas.getContext('2d');

        const renderPage = num => {
            pageIsRendering = true;

            pdfDoc.getPage(num).then(page => {
                const viewport = page.getViewport({scale});
                canvas.height = viewport.height;
                canvas.width = viewport.width;

                const renderCtx = {
                    canvasContext: ctx,
                    viewport
                }

                page.render(renderCtx).promise.then(() => {
                    pageIsRendering = false;

                    if(pageNumIsPending !== null){
                        renderPage(pageNumIsPending);
                        pageNumIsPending = null;
                    }
                });


                document.querySelector('#page-num').textContent = num;
            })
        };

        const queueRenderPage = num => {
            if(pageIsRendering) {
                pageNumIsPending = num;
            } else {
                renderPage(num);
            }
        }

        const showPrevPage = () => {
            if(pageNum <= 1) {
                return;
            }
            pageNum--;
            queueRenderPage(pageNum);
        }

        const showNextPage = () => {
            if(pageNum >= pdfDoc.numPages) {
                return;
            }
            pageNum++;
            queueRenderPage(pageNum);
        }

        pdfjsLib.getDocument(url).promise.then(pdfDoc_ => {
            pdfDoc = pdfDoc_;
            
            document.querySelector('#page-count').textContent = pdfDoc.numPages;
            
            renderPage(pageNum);
        });


        document.querySelector('#prev-page').addEventListener('click', showPrevPage);
        document.querySelector('#next-page').addEventListener('click', showNextPage);

    </script>-->
</body>