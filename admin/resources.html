<head>
    <link rel="stylesheet" href="assets/css/resources.css">
    <link rel="stylesheet" href="assets/css/root.css">
    <link rel="stylesheet" href="assets/fontawesome-free-6.0.0-beta2-web/css/all.min.css">
    <script
        src="https://code.jquery.com/jquery-3.6.0.js"
        integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="
        crossorigin="anonymous">
    </script>
</head>
<body>
    <header class="title">
        <div class="container">
            <a href=""><i class="fa-solid fa-arrow-left"></i>Back</a>
            <h1 class="page_title">Resources</h1>
        </div>
    </header>
    <section class="list-table">
        <div class="container">
            <div class="buttons">
                <button type="button" id="add_res">add resource</button>
                <button type="button" id="edit_res">edit resource</button>
                <button type="button" onclick="removeSelectedRow();">remove resource</button>
            </div>
            <table>
                <thead>
                    <tr>
                        <th>Book No.</th>
                        <th>Title</th>
                        <th>Author Name</th>
                        <th>Date Added</th>
                        <th>Featured</th>
                    </tr>
                </thead>
                <tbody id="table">
                    <tr>
                        <td>1</td>
                        <td>Book Title</td>
                        <td>John Doe</td>
                        <td>2021-12-11</td>
                        <td><i class="fa-solid fa-star"></i></td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>Book Title</td>
                        <td>John Doe</td>
                        <td>2021-12-11</td>
                        <td><i class="fa-solid fa-star"></i></td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td>Book Title</td>
                        <td>John Doe</td>
                        <td>2021-12-11</td>
                        <td><i class="fa-solid fa-star"></i></td>
                    </tr>
                    <tr>
                        <td>4</td>
                        <td>Book Title</td>
                        <td>John Doe</td>
                        <td>2021-12-11</td>
                        <td><i class="fa-solid fa-star"></i></td>
                    </tr>
                    <tr>
                        <td>5</td>
                        <td>Book Title</td>
                        <td>John Doe</td>
                        <td>2021-12-11</td>
                        <td><i class="fa-solid fa-star"></i></td>
                    </tr>
                    <tr>
                        <td>6</td>
                        <td>Book Title</td>
                        <td>John Doe</td>
                        <td>2021-12-11</td>
                        <td><i class="fa-solid fa-star"></i></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </section>
    <div class="edit-resources">
        
    </div>
</body>
<script>
    var rIndex, table = document.getElementById("table");
    var addRes = document.getElementById("add_res");
    addRes.disabled = false;

    function selectedRowToInput() {     
        for(var i = 0; i < table.rows.length; i++) {
            table.rows[i].onclick = function() {
                addRes.disabled = !addRes.disabled;  

                if(addRes.disabled) {
                    rIndex = this.rowIndex;
                    addRes.classList.add('disable');
                    this.classList.add('highlight');
                }
                if(!addRes.disabled) {
                    addRes.classList.remove('disable');
                    this.classList.remove('highlight');
                    rIndex = -1;
                }

            };
        }
    }
    selectedRowToInput();

    function removeSelectedRow() {
        table.deleteRow(rIndex-1);
        addRes.disabled = !addRes.disabled;
        addRes.classList.remove('disable');
        rIndex = -1;
    }
</script>